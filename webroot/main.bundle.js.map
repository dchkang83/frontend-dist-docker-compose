{"version":3,"sources":["webpack:///./src/app/login/login.component.ts","webpack:///./src/app/services/authentication.service.ts","webpack:///./src/app/user/user.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/login/login.component.scss","webpack:///./src/app/admin/admin.component.css","webpack:///./src/app/app.component.css","webpack:///./src/app/home/home.component.css","webpack:///./src/app/user/user.component.css","webpack:///./src/app/admin/admin.component.html","webpack:///./src/app/app.component.html","webpack:///./src/app/home/home.component.html","webpack:///./src/app/login/login.component.html","webpack:///./src/app/user/user.component.html","webpack:///./src/app/services/user.service.ts","webpack:///./src/app/services/auth.constant.ts","webpack:///./src/app/services/app-data.service.ts","webpack:///./src/app/admin/admin.component.ts","webpack:///./src/app/guards/admin-auth-guard.service.ts","webpack:///./src/app/guards/auth-guard.service.ts","webpack:///./src/app/home/home.component.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\n\r\nimport {AuthenticationService} from '../services/authentication.service';\r\nimport {UserService} from '../services/user.service';\r\n\r\n@Component({\r\n  selector: 'login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  model: any = {};\r\n  loading = false;\r\n  error = '';\r\n  redirectUrl: string;\r\n\r\n  constructor(private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private authenticationService: AuthenticationService,\r\n              private userService: UserService) {\r\n    this.redirectUrl = this.activatedRoute.snapshot.queryParams['redirectTo'];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userService.logout();\r\n  }\r\n\r\n  login() {\r\n    this.loading = true;\r\n\r\n    this.authenticationService.login(this.model.username, this.model.password)\r\n      .subscribe(\r\n        result => {\r\n          this.loading = false;\r\n\r\n          if (result) {\r\n            this.userService.login(result);\r\n            this.navigateAfterSuccess();\r\n          } else {\r\n            this.error = 'Username or password is incorrect';\r\n          }\r\n        },\r\n        error => {\r\n          this.error = 'Username or password is incorrect';\r\n          this.loading = false;\r\n        }\r\n      );\r\n  }\r\n\r\n  private navigateAfterSuccess() {\r\n    if (this.redirectUrl) {\r\n      this.router.navigateByUrl(this.redirectUrl);\r\n    } else {\r\n      this.router.navigate(['/']);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.component.ts","import {Injectable} from '@angular/core';\r\nimport {Http, Headers} from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport {TOKEN_AUTH_PASSWORD, TOKEN_AUTH_USERNAME} from '../services/auth.constant';\r\n\r\n@Injectable()\r\nexport class AuthenticationService {\r\n  static AUTH_TOKEN = '/oauth/token';\r\n\r\n  constructor(private http: Http) {\r\n  }\r\n\r\n  login(username: string, password: string) {\r\n    const body = `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}&grant_type=password`;\r\n\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n    headers.append('Authorization', 'Basic ' + btoa(TOKEN_AUTH_USERNAME + ':' + TOKEN_AUTH_PASSWORD));\r\n\r\n    return this.http.post(AuthenticationService.AUTH_TOKEN, body, {headers})\r\n      .map(res => res.json())\r\n      .map((res: any) => {\r\n        if (res.access_token) {\r\n          return res.access_token;\r\n        }\r\n        return null;\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/authentication.service.ts","import {Component, OnInit} from '@angular/core';\r\n\r\nimport {AppDataService} from '../services/app-data.service';\r\n\r\n@Component({\r\n  selector: 'app-user',\r\n  templateUrl: './user.component.html',\r\n  styleUrls: ['./user.component.css']\r\n})\r\nexport class UserComponent implements OnInit {\r\n  city$;\r\n\r\n  constructor(private appDataService: AppDataService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.city$ = this.appDataService.getCities();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/user/user.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 152;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 152\n// module chunks = 1","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\n\r\nimport {LoginComponent} from './login/login.component';\r\nimport {AdminComponent} from './admin/admin.component';\r\nimport {AuthGuard} from './guards/auth-guard.service';\r\nimport {AdminAuthGuard} from './guards/admin-auth-guard.service';\r\n\r\nimport {HomeComponent} from './home/home.component';\r\nimport {UserComponent} from './user/user.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent\r\n  },\r\n  {\r\n    path: 'home',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: 'admin',\r\n    component: AdminComponent,\r\n    canActivate: [AuthGuard, AdminAuthGuard]\r\n  },\r\n  {\r\n    path: 'user',\r\n    component: UserComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: '**',\r\n    redirectTo: '/home'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-routing.module.ts","import {Component} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\n\r\nimport {UserService} from './services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'Angular SpringBoot JWT integration';\r\n\r\n  constructor(private router: Router, private userService: UserService) {\r\n  }\r\n\r\n  logout() {\r\n    this.userService.logout();\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  get isAdminUser() {\r\n    return this.userService.isAdminUser();\r\n  }\r\n\r\n  get isUser() {\r\n    return this.userService.isUser();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from '@angular/platform-browser';\r\nimport {NgModule} from '@angular/core';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {Http, HttpModule} from '@angular/http';\r\nimport {AuthConfig, AuthHttp} from 'angular2-jwt';\r\n\r\nimport {AppRoutingModule} from './app-routing.module';\r\n\r\nimport {AppComponent} from './app.component';\r\nimport {HomeComponent} from './home/home.component';\r\nimport {AdminComponent} from './admin/admin.component';\r\nimport {LoginComponent} from './login/login.component';\r\nimport {UserComponent} from './user/user.component';\r\n\r\nimport {UserService} from './services/user.service';\r\nimport {AuthenticationService} from './services/authentication.service';\r\nimport {AuthGuard} from './guards/auth-guard.service';\r\nimport {AdminAuthGuard} from './guards/admin-auth-guard.service';\r\nimport {TOKEN_NAME} from './services/auth.constant';\r\nimport {AppDataService} from './services/app-data.service';\r\n\r\nexport function authHttpServiceFactory(http: Http) {\r\n  return new AuthHttp(new AuthConfig({\r\n    headerPrefix: 'Bearer',\r\n    tokenName: TOKEN_NAME,\r\n    globalHeaders: [{'Content-Type': 'application/json'}],\r\n    noJwtError: false,\r\n    noTokenScheme: true,\r\n    tokenGetter: (() => localStorage.getItem(TOKEN_NAME))\r\n  }), http);\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomeComponent,\r\n    AdminComponent,\r\n    UserComponent,\r\n    LoginComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpModule,\r\n\r\n    AppRoutingModule\r\n  ],\r\n  providers: [\r\n    {provide: AuthHttp, useFactory: authHttpServiceFactory, deps: [Http]},\r\n    AuthenticationService,\r\n    UserService,\r\n    AuthGuard,\r\n    AdminAuthGuard,\r\n    AppDataService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".form-wrapper {\\n  display: block;\\n  max-width: 400px;\\n  margin: 0 auto 0; }\\n\\nform input {\\n  margin: 20px 0;\\n  height: 45px; }\\n\\nbutton {\\n  width: 100%;\\n  height: 45px; }\\n\\np {\\n  text-align: center; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.scss\n// module id = 317\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/admin/admin.component.css\n// module id = 318\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"h1 {\\r\\n  text-align: center;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 319\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/home/home.component.css\n// module id = 320\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/user/user.component.css\n// module id = 321\n// module chunks = 1","module.exports = \"<h2>\\r\\n  Admin screen. Available for Admin users\\r\\n</h2>\\r\\n\\r\\n<p>Here is the data received from SpringBoot API for Admin users ONLY</p>\\r\\n\\r\\n<pre>{{users$| async | json}}</pre>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/admin/admin.component.html\n// module id = 323\n// module chunks = 1","module.exports = \"<h1>\\r\\n  {{title}}\\r\\n</h1>\\r\\n\\r\\n<nav class=\\\"navbar navbar-default\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <ul class=\\\"nav navbar-nav\\\">\\r\\n      <li routerLinkActive=\\\"active\\\"><a routerLink=\\\"/home\\\">Home</a></li>\\r\\n      <li routerLinkActive=\\\"active\\\"><a routerLink=\\\"/user\\\">User1</a></li>\\r\\n      <li routerLinkActive=\\\"active\\\"><a routerLink=\\\"/admin\\\">Admin2</a></li>\\r\\n    </ul>\\r\\n\\r\\n    <ul class=\\\"nav navbar-nav navbar-right\\\">\\r\\n      <p class=\\\"navbar-text\\\" *ngIf=\\\"isAdminUser\\\">You are admin!</p>\\r\\n      <p class=\\\"navbar-text\\\" *ngIf=\\\"isUser\\\">You are user!</p>\\r\\n      <li><button class=\\\"btn navbar-btn\\\" (click)=\\\"logout()\\\">Logout</button></li>\\r\\n    </ul>\\r\\n  </div>\\r\\n</nav>\\r\\n\\r\\n<div class=\\\"container\\\">\\r\\n  <router-outlet></router-outlet>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 324\n// module chunks = 1","module.exports = \"<h2>\\r\\n  Home screen. Available for all authorized and not authorized users.\\r\\n</h2>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/home/home.component.html\n// module id = 325\n// module chunks = 1","module.exports = \"<p>Non-admin username and password: john.doe and jwtpass</p>\\r\\n<p>Admin user: admin.admin and jwtpass</p>\\r\\n\\r\\n<div class=\\\"form-wrapper\\\">\\r\\n  <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && login()\\\" #f=\\\"ngForm\\\" novalidate>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !username.valid }\\\">\\r\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"username\\\" [(ngModel)]=\\\"model.username\\\" #username=\\\"ngModel\\\"\\r\\n             required placeholder=\\\"Username\\\"/>\\r\\n      <div *ngIf=\\\"f.submitted && !username.valid\\\" class=\\\"help-block\\\">Username is required</div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !password.valid }\\\">\\r\\n      <input type=\\\"password\\\" class=\\\"form-control\\\" name=\\\"password\\\" [(ngModel)]=\\\"model.password\\\" #password=\\\"ngModel\\\"\\r\\n             required placeholder=\\\"Password\\\"/>\\r\\n      <div *ngIf=\\\"f.submitted && !password.valid\\\" class=\\\"help-block\\\">Password is required</div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">Sign In</button>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"error\\\" class=\\\"alert alert-danger\\\">{{error}}</div>\\r\\n  </form>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.html\n// module id = 326\n// module chunks = 1","module.exports = \"<h2>\\r\\n  User screen. Available for all authenticated users\\r\\n</h2>\\r\\n\\r\\n<p>Here is the data received from SpringBoot API for all authenticated users</p>\\r\\n\\r\\n<pre>{{city$ | async | json}}</pre>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/user/user.component.html\n// module id = 327\n// module chunks = 1","import {Injectable} from '@angular/core';\r\nimport {JwtHelper} from 'angular2-jwt';\r\n\r\nimport {TOKEN_NAME} from '../services/auth.constant';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n  jwtHelper: JwtHelper = new JwtHelper();\r\n  accessToken: string;\r\n  isAdmin: boolean;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  login(accessToken: string) {\r\n    const decodedToken = this.jwtHelper.decodeToken(accessToken);\r\n    console.log(decodedToken);\r\n\r\n    this.isAdmin = decodedToken.authorities.some(el => el === 'ADMIN_USER');\r\n    this.accessToken = accessToken;\r\n\r\n    localStorage.setItem(TOKEN_NAME, accessToken);\r\n  }\r\n\r\n  logout() {\r\n    this.accessToken = null;\r\n    this.isAdmin = false;\r\n    localStorage.removeItem(TOKEN_NAME);\r\n  }\r\n\r\n  isAdminUser(): boolean {\r\n    return this.isAdmin;\r\n  }\r\n\r\n  isUser(): boolean {\r\n    return this.accessToken && !this.isAdmin;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/user.service.ts","export const TOKEN_AUTH_USERNAME = 'testjwtclientid';\r\nexport const TOKEN_AUTH_PASSWORD = 'MaYzkSjmkzPC57L';\r\nexport const TOKEN_NAME = 'access_token';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/auth.constant.ts","import {Injectable} from '@angular/core';\r\nimport {AuthHttp} from 'angular2-jwt';\r\n\r\n@Injectable()\r\nexport class AppDataService {\r\n  constructor(private http: AuthHttp) {\r\n  }\r\n\r\n  getCities() {\r\n    return this.http.get('/springjwt/cities').map(res => res.json());\r\n  }\r\n\r\n  getUsers() {\r\n    return this.http.get('/springjwt/users').map(res => res.json());\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/app-data.service.ts","import {Component, OnInit} from '@angular/core';\r\n\r\nimport {AppDataService} from '../services/app-data.service';\r\n\r\n@Component({\r\n  selector: 'app-admin',\r\n  templateUrl: './admin.component.html',\r\n  styleUrls: ['./admin.component.css']\r\n})\r\nexport class AdminComponent implements OnInit {\r\n  users$;\r\n\r\n  constructor(private appDataService: AppDataService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.users$ = this.appDataService.getUsers();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/admin/admin.component.ts","import {Injectable} from '@angular/core';\r\nimport {Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot} from '@angular/router';\r\n\r\nimport {UserService} from '../services/user.service';\r\n\r\n@Injectable()\r\nexport class AdminAuthGuard implements CanActivate {\r\n  constructor(private router: Router, private userService: UserService) {\r\n  }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\r\n    const isAdmin = this.userService.isAdminUser();\r\n    if (isAdmin) {\r\n      return true;\r\n    } else {\r\n      this.router.navigate(['login']);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/guards/admin-auth-guard.service.ts","import {Injectable} from '@angular/core';\r\nimport {Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot} from '@angular/router';\r\nimport {tokenNotExpired} from 'angular2-jwt';\r\n\r\nimport {TOKEN_NAME} from '../services/auth.constant';\r\nimport {UserService} from '../services/user.service';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private router: Router, private userService: UserService) {\r\n  }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\r\n    if (tokenNotExpired(TOKEN_NAME, this.userService.accessToken)) {\r\n      return true;\r\n    } else {\r\n      this.router.navigate(['login'], {queryParams: {redirectTo: state.url}});\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/guards/auth-guard.service.ts","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/home/home.component.ts"],"sourceRoot":""}